<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø³Ø¤Ø§Ù„ Ù‚Ø¨Ù„ Ù…Ø§ ØªØ´Ø±ÙŠ - ØªØ¬Ø±Ø¨Ø©</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body { font-family:'Segoe UI', sans-serif; background:#f5f6fa; color:#333; margin:0; }
header { background:#4a90e2; color:white; padding:1rem; text-align:center; }
.container { width:90%; max-width:1200px; margin:0 auto; }
.products-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(300px,1fr)); gap:1rem; margin-top:1rem; }
.product-card { background:white; padding:1rem; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); display:flex; flex-direction:column; }
.product-card img { width:100%; height:200px; object-fit:cover; border-radius:10px; margin-bottom:0.5rem; }
.product-card h3 { color:#4a90e2; margin:0 0 0.3rem 0; }
.product-card .price { font-weight:bold; margin-bottom:0.3rem; }
.product-card .description { font-size:0.9rem; margin-bottom:0.3rem; color:#555; }
.product-card .stars { color:gold; margin-bottom:0.5rem; }
.product-card button { padding:0.5rem; background:#4a90e2; color:white; border:none; border-radius:5px; cursor:pointer; transition:0.3s; }
.product-card button:hover { background:#357ABD; }
footer { text-align:center; padding:1rem; margin-top:2rem; background:#eee; font-size:0.9rem; color:#555; }
</style>

<script>
// ğŸ”‘ Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyDxxxxxx-xxxxxx",
  authDomain: "sawal-qbl-ma-tchri.firebaseapp.com",
  databaseURL: "https://sawal-qbl-ma-tchri-default-rtdb.firebaseio.com",
  projectId: "sawal-qbl-ma-tchri",
  storageBucket: "sawal-qbl-ma-tchri.appspot.com",
  messagingSenderId: "1234567890",
  appId: "1:1234567890:web:xxxxxxxxxxxxxx"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// Ø­Ø³Ø§Ø¨ admin Ø«Ø§Ø¨Øª Ù„Ù„ØªØ¬Ø±Ø¨Ø©
const adminEmail = "admin@gmail.com";
const adminPassword = "admin123";
let userLoggedIn = true; // Ø§Ù„Ø²Ø§Ø¦Ø± Ù…Ø³Ø¬Ù„ Ù…Ø¨Ø§Ø´Ø±Ø©
</script>

</head>
<body>

<header>
  <h1>Ø³Ø¤Ø§Ù„ Ù‚Ø¨Ù„ Ù…Ø§ ØªØ´Ø±ÙŠ - ØªØ¬Ø±Ø¨Ø© Admin</h1>
</header>

<div class="container">
  <div class="products-grid" id="products-grid"></div>
</div>

<footer>
  Â© 2026 Ø³Ø¤Ø§Ù„ Ù‚Ø¨Ù„ Ù…Ø§ ØªØ´Ø±ÙŠ - ØªØ¬Ø±Ø¨Ø©
</footer>

<script>
let productsPerPage = 4;
let currentPage = 1;
let allProducts = [];
let filteredData = [];

// Ù…Ø«Ø§Ù„: Ù…Ù†ØªØ¬Ø§Øª Ø¬Ø§Ù‡Ø²Ø©
allProducts = [
  {id:1,name:'Ù…Ù†ØªØ¬ 1',price:500,rating:4,img:'https://via.placeholder.com/300x200',desc:'ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ 1'},
  {id:2,name:'Ù…Ù†ØªØ¬ 2',price:1200,rating:5,img:'https://via.placeholder.com/300x200',desc:'ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ 2'},
  {id:3,name:'Ù…Ù†ØªØ¬ 3',price:800,rating:3,img:'https://via.placeholder.com/300x200',desc:'ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ 3'},
  {id:4,name:'Ù…Ù†ØªØ¬ 4',price:1500,rating:4,img:'https://via.placeholder.com/300x200',desc:'ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ 4'},
  {id:5,name:'Ù…Ù†ØªØ¬ 5',price:200,rating:2,img:'https://via.placeholder.com/300x200',desc:'ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ 5'},
];

filteredData = allProducts;

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
function displayProducts(){
  const grid = document.getElementById('products-grid');
  grid.innerHTML='';
  const start=(currentPage-1)*productsPerPage;
  const end=start+productsPerPage;
  const pageData = filteredData.slice(start,end);
  pageData.forEach(p=>{
    const stars = 'â­'.repeat(p.rating)+'â˜†'.repeat(5-p.rating);
    const card = document.createElement('div');
    card.className='product-card';
    card.innerHTML=`
      <img src="${p.img}" alt="${p.name}">
      <h3>${p.name}</h3>
      <p class="price">Ø§Ù„Ø³Ø¹Ø±: ${p.price} Ø¯Ø±Ù‡Ù…</p>
      <p class="description">${p.desc}</p>
      <p class="stars">${stars}</p>
      <button>Ù†Ø´Ø± Ø³Ø¤Ø§Ù„</button>
    `;
    grid.appendChild(card);

    const submitBtn = card.querySelector('button');
    submitBtn.addEventListener('click',()=>{
      if(userLoggedIn){
        const question = prompt("Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§:");
        if(!question) return;
        const id = Date.now();
        db.ref('questions/'+id).set({question,product:p.name,user:adminEmail});
        alert('ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø³Ø¤Ø§Ù„ (ØªØ¬Ø±ÙŠØ¨ÙŠ)!');
      }
    });
  });
}
displayProducts();
</script>

</body>
</html>
